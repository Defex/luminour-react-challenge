(this["webpackJsonpluminour-react-challenge"]=this["webpackJsonpluminour-react-challenge"]||[]).push([[10],{156:function(e,t,n){"use strict";var a=n(45),r=n(0),o=n(26),c=n(10),i=n.n(c),s=n(16),u=n(37),l=n(30),d=Object(l.c)("books"),f=d.getItems,p=d.createItems,b=d.updateItems,g=d.deleteItems,v=p,m=Object(l.k)(b),x=Object(l.k)(g),h=function(e){return{type:u.a.setBooks,payload:{books:e}}},j=function(e){return{type:u.a.updateBooks,payload:{books:e}}},y=function(e){return{type:u.a.deleteBooks,payload:{books:e}}},k=function(){return{type:u.a.fetchStart}},O=function(e){return{type:u.a.fetchEnd,payload:{errorMessage:e}}},w=n(49);n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return S}));var E=function(e){var t=Object(r.useState)(!e),n=Object(a.a)(t,2),c=n[0],u=n[1],d=Object(o.b)(),p=Object(o.c)((function(e){return e.books})),b=p.books,g=p.loading,m=p.hasLoaded,x=p.errorMessage;return Object(r.useEffect)((function(){m&&c||g||(u(!0),d(function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(k()),e.prev=1,e.next=4,f();case 4:if(0!==(n=e.sent).length){e.next=14;break}return e.next=8,Object(l.f)();case 8:return a=e.sent,e.next=11,v(a);case 11:return r=e.sent,t(h(r)),e.abrupt("return",t(O()));case 14:n.length>0&&(t(h(n)),t(O())),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0),t(O(e.t0.message));case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}()))}),[m,g,e,d,c]),{books:b,loading:g,hasLoaded:m,errorMessage:x}},S=function(){var e=Object(o.b)(),t=Object(w.b)().me;return{addBooks:function(t){return e(function(e){return function(){var t=Object(s.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(k()),t.prev=1,t.next=4,v(e);case 4:a=t.sent,n(h(a)),n(O()),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),n(O(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},deleteBooks:function(n){return t&&e(function(e,t){return function(){var n=Object(s.a)(i.a.mark((function n(a){var r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(k()),n.prev=1,n.next=4,x(e,t.map((function(e){return e.id})));case 4:r=n.sent,a(y(r)),a(O()),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0),a(O(n.t0.message));case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},updateBooks:function(n){return t&&e(function(e,t){return function(){var n=Object(s.a)(i.a.mark((function n(a){var r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(k()),n.prev=1,n.next=4,m(e,t);case 4:r=n.sent,a(j(r)),a(O()),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0),a(O(n.t0.message));case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}},166:function(e,t,n){"use strict";var a=n(2),r=n(1),o=n(0),c=n.n(o),i=(n(5),n(3)),s=n(4),u=[0,1,2,3,4,5,6,7,8,9,10],l=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var f=c.a.forwardRef((function(e,t){var n=e.alignContent,o=void 0===n?"stretch":n,s=e.alignItems,u=void 0===s?"stretch":s,l=e.classes,d=e.className,f=e.component,p=void 0===f?"div":f,b=e.container,g=void 0!==b&&b,v=e.direction,m=void 0===v?"row":v,x=e.item,h=void 0!==x&&x,j=e.justify,y=void 0===j?"flex-start":j,k=e.lg,O=void 0!==k&&k,w=e.md,E=void 0!==w&&w,S=e.sm,C=void 0!==S&&S,W=e.spacing,B=void 0===W?0:W,I=e.wrap,q=void 0===I?"wrap":I,M=e.xl,_=void 0!==M&&M,z=e.xs,D=void 0!==z&&z,G=e.zeroMinWidth,N=void 0!==G&&G,F=Object(a.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),J=Object(i.a)(l.root,d,g&&[l.container,0!==B&&l["spacing-xs-".concat(String(B))]],h&&l.item,N&&l.zeroMinWidth,"row"!==m&&l["direction-xs-".concat(String(m))],"wrap"!==q&&l["wrap-xs-".concat(String(q))],"stretch"!==u&&l["align-items-xs-".concat(String(u))],"stretch"!==o&&l["align-content-xs-".concat(String(o))],"flex-start"!==y&&l["justify-xs-".concat(String(y))],!1!==D&&l["grid-xs-".concat(String(D))],!1!==C&&l["grid-sm-".concat(String(C))],!1!==E&&l["grid-md-".concat(String(E))],!1!==O&&l["grid-lg-".concat(String(O))],!1!==_&&l["grid-xl-".concat(String(_))]);return c.a.createElement(p,Object(r.a)({className:J,ref:t},F))})),p=Object(s.a)((function(e){return Object(r.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return u.forEach((function(a){var r=e.spacing(a);0!==r&&(n["spacing-".concat(t,"-").concat(a)]={margin:"-".concat(d(r,2)),width:"calc(100% + ".concat(d(r),")"),"& > $item":{padding:d(r,2)}})})),n}(e,"xs"),{},e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var a={};l.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");a[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else a[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else a[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(r.a)(e,a):e[t.breakpoints.up(n)]=a}(t,e,n),t}),{}))}),{name:"MuiGrid"})(f);t.a=p},180:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(57),c=n(156),i=n(143),s=n(45),u=n(149),l=function(e){var t=e.book,n=e.actions,o=Object(a.useState)(t.title),c=Object(s.a)(o,2),i=c[0],l=c[1],d=Object(a.useState)(t.author),f=Object(s.a)(d,2),p=f[0],b=f[1],g=Object(a.useState)(new Date(t.published_date).toISOString().split("T")[0]),v=Object(s.a)(g,2),m=v[0],x=v[1],h=Object(a.useState)(t.book_cover),j=Object(s.a)(h,2),y=j[0],k=j[1],O=Object(a.useState)(t.quantity),w=Object(s.a)(O,2),E=w[0],S=w[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},r.a.createElement("div",null,r.a.createElement(u.a,{type:"text",value:t.id,required:!0,disabled:!0,label:"id",fullWidth:!0})),r.a.createElement("div",null,r.a.createElement(u.a,{type:"text",value:i,onChange:function(e){return l(e.target.value)},required:!0,label:"title",fullWidth:!0})),r.a.createElement("div",null,r.a.createElement(u.a,{type:"text",value:p,onChange:function(e){return b(e.target.value)},required:!0,label:"author",fullWidth:!0})),r.a.createElement("div",null,r.a.createElement(u.a,{type:"date",value:m,onChange:function(e){return x(e.target.value)},required:!0,label:"published_date",fullWidth:!0})),r.a.createElement("div",null,r.a.createElement("img",{src:y}),r.a.createElement(u.a,{type:"text",value:y,onChange:function(e){return k(e.target.value)},required:!0,label:"book_cover",fullWidth:!0})),r.a.createElement("div",null,r.a.createElement(u.a,{type:"number",value:E,onChange:function(e){return S(parseInt(e.target.value))},required:!0,label:"quantity",fullWidth:!0})),n({id:t.id,title:i,author:p,published_date:m,book_cover:y,quantity:E}))},d=n(166),f=n(145),p=function(e){var t=e.book,n=Object(c.a)(),a=n.updateBooks,o=n.deleteBooks,i=function(){return o([t])},s=function(e){return function(){return a([e])}};return r.a.createElement(l,{book:t,actions:function(e){return r.a.createElement(d.a,{container:!0,justify:"flex-end"},r.a.createElement(f.a,{type:"button",onClick:i,color:"secondary"},"Delete"),r.a.createElement(f.a,{type:"button",onClick:s(e),color:"primary"},"Save Changes"))}})},b=n(6),g=n(56),v={id:"Created on initialization",title:"",author:"",published_date:(new Date).toISOString().split("T")[0],book_cover:"",quantity:1},m=function(e){var t=e.initialFields,n=Object(c.a)().addBooks;return r.a.createElement(l,{book:t||v,actions:function(e){return r.a.createElement(d.a,{container:!0,justify:"flex-end"},r.a.createElement(f.a,{type:"button",onClick:(t=e,function(){return n([Object(b.a)({},t,{id:Object(g.uuid)()})])}),color:"primary"},"Create Book"));var t}})};t.default=function(){Object(o.a)();var e=Object(c.b)(!0),t=e.books,n=e.loading;return r.a.createElement("div",null,n&&r.a.createElement(i.a,null),!n&&r.a.createElement("div",null,r.a.createElement(m,null),t.map((function(e){return r.a.createElement(p,{key:e.id,book:e})}))))}}}]);
//# sourceMappingURL=10.ba666bae.chunk.js.map